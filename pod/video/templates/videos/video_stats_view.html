{% extends 'base.html' %}
{% load static i18n %}

{% block opengraph %}
  {{ block.super }}
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
{% endblock opengraph %}

{% block page_title %}{{ title }}{% endblock page_title %}

{% block page_extra_head %}
  <link type="text/css" rel="stylesheet" href="{% static 'jqGrid/css/ui.jqgrid-bootstrap5.css' %}?ver={{VERSION}}">
  <link rel="stylesheet" href="{% static 'css/video_stats_view.css' %}?ver={{VERSION}}">
{% endblock page_extra_head %}

{% block content %}
<div class="grid-container container">
  {% if form %}
    {% include "videos/video-form.html" %}
  {% else %}
    <h1 class="page_title h2">{{ title }}</h1>
    <div class="form-group row stat-form-group mb-1">
    {% if slug %}
      <label for="start-date">{% trans "Start date" %}</label>
      <input type="date" id="start-date" name="start-date">
      <label for="end-date">{% trans "End date" %}</label>
      <input type="date" id="end-date" name="end-date">
    </div>
    <div class="table-responsive-md mb-4">
      <canvas id="myChart"></canvas>
    </div>
    {% else %}
      <label for="jsperiode" class="col-7 col-form-label">{% trans "Change the date" %}</label>
      <div class="col-5 col-date">
        <input class="form-control" type="date" name="periode" id="jsperiode">
      </div>
      <select id="filtered" name="filtered">
        <option value="all">All</option>
        <option value="views">Views</option>
        <option value="favorites">Favorite</option>
      </select>
    </div>
    <div class="table-responsive-md mb-4">
      <table id="grid"></table>
    </div>
      
    {% endif %}
    <div id="pager"></div>
  {% endif %}
</div>
{% endblock content %}

{% block more_script %} 
  <script src="{% static 'jqGrid/js/i18n/grid.locale-'|add:LANGUAGE_CODE|add:'.js' %}?ver={{VERSION}}" charset="utf-8"></script>
  <script src="{% static 'jqGrid/js/jquery.jqGrid.min.js' %}?ver={{VERSION}}" charset="utf-8"></script>
  <script src="{% static 'js/video_stats_view.js' %}?ver={{VERSION}}" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{% static 'js/video_stats_view2.js' %}?ver={{VERSION}}" charset="utf-8"></script>
{% endblock %}
