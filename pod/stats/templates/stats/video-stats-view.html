{% extends 'base.html' %}
{% load static i18n %}
{% load playlist_stats %}

{% block opengraph %}
  {{ block.super }}
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
{% endblock opengraph %}

{% block page_title %}{{ title }}{% endblock page_title %}

{% block page_extra_head %}
  <link type="text/css" rel="stylesheet" href="{% static 'jqGrid/css/ui.jqgrid-bootstrap5.css' %}?ver={{VERSION}}">
  <link rel="stylesheet" href="{% static 'stats/css/video_stats_view.css' %}?ver={{VERSION}}">
{% endblock page_extra_head %}

{% block content %}
<div class="grid-container container">
  {% if form %}
    {% include "videos/video-form.html" %}
  {% else %}
    <h1 class="page_title h2">{{ title }}</h1>

    {% if slug %}
      <p>
        {% trans 'Number of favorites' %} : {% get_total_favorites_video video %}
      </p>

      <p>
        {% trans 'Addition in a playlist' %} : {% get_count_video_added_in_playlist video %}
      </p>

      <p>
        {% trans 'Number of views' %} : {{ video.get_viewcount }}
      </p>
      {% trans "Graph of video evolution of " as graph_title_prefix %}
      {% include "stats/utils/video-stats.html" with graph_id="videoEvolutionChart" graph_title=graph_title_prefix|add:slug %}
    {% else %}
      {% trans "Graph of video evolution " as graph_title_prefix %}
      {% include "stats/utils/years-video-stats.html" with graph_id="videosEvolutionChart" graph_title=graph_title_prefix %}
    {% endif %}
  {% endif %}
</div>
{% endblock content %}
